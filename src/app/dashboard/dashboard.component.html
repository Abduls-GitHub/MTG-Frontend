<nz-layout class="layout">

  <nz-sider class="side-menu" nzWidth="200px">
    <img class="logo" ngSrc="assets/logo.png" width="50" height="50">

    <ul class="menu" nz-menu nzTheme="dark" nzMode="inline">

      <li nz-menu-item>
        <span nz-icon nzType="thunderbolt"></span>
        <span>Single Meter</span>
      </li>

      <li nz-menu-item routerLink="/bulk">
        <span nz-icon nzType="file-text"></span>
        <span>Batch Processor</span>
      </li>

      <li class="logout" nz-menu-item (click)="logout()">
        <span nz-icon nzType="logout"></span>
        <span>Logout</span>
      </li>

    </ul>
  </nz-sider>


  <nz-layout>
    <h1 class="heading">Multiple Token Generator</h1>
    <nz-content class="content">

      <div nz-row>
        <div class="meter-generate-container" nz-col nzSpan="12">

          <div class="meter-detail">
            <h2 class="meter-detail-heading">Meter Detail</h2>

            <div class="content-body">

              <form class="form" nz-form [formGroup]="validateForm" nzLayout="vertical" (ngSubmit)="submitForm()">
                <nz-form-item class="form-item">
                  <nz-form-label [nzSpan]="12" nzRequired nzFor="meter">Meter Number</nz-form-label>
                  <nz-form-control [nzSpan]="12" nzErrorTip="Please enter a valid Meter Number">
                    <input type="text" nz-input formControlName="meter" placeholder="Enter meter number" minlength="11"
                           maxlength="13"/>
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item class="form-item">
                  <nz-form-label [nzSpan]="12" nzRequired nzFor="tokens">Number of Tokens</nz-form-label>
                  <nz-form-control [nzSpan]="12" nzErrorTip="Please enter a valid number of tokens">
                    <input type="text" nz-input formControlName="tokens" placeholder="Enter number of tokens"/>
                  </nz-form-control>
                </nz-form-item>


                <nz-form-item class="form-item">
                  <nz-form-label [nzSpan]="12" nzRequired nzFor="amount">Unit/kW Amount</nz-form-label>
                  <nz-form-control [nzSpan]="12" nzErrorTip="Please enter a valid amount of Units or kW ">
                    <input type="text" nz-input formControlName="amount" placeholder="Enter Unit/kW amount"/>
                  </nz-form-control>
                </nz-form-item>


                <nz-form-item>
                  <nz-form-control [nzSpan]="12">
                    <button nz-button nzType="primary" nzBlock>Generate</button>
                  </nz-form-control>
                </nz-form-item>

              </form>

            </div>
          </div>
        </div>

        <div nz-col nzSpan="12">

          <div class="meter-detail" *ngIf="display">
            <h2 class="meter-detail-heading">Token Detail</h2>

            <div class="token-detail">

              <nz-list nzGrid nzSize="small">
                <div nz-row [nzGutter]="0">

                  <div nz-col [nzSpan]="12" *ngFor="let meter of meterList">
                    <nz-list-item>
                      <nz-card>{{meter.serialNo}}</nz-card>
                    </nz-list-item>
                  </div>
                </div>
              </nz-list>


              <nz-form-item class="export-button">
                <nz-form-control [nzSpan]="12" nzOffset="6">
                  <button nz-button nzType="primary" nzBlock>Export Text File</button>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </div>
      </div>
    </nz-content>
  </nz-layout>
</nz-layout>
